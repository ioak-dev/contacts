(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[231],{2583:function(e,t,n){Promise.resolve().then(n.bind(n,1524))},1524:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(7437),o=n(570);n(6627);var s=n(2265),i=n(7535),c=n(4907),r=n(501);let l=(e,t)=>(0,r.Ko)("/contact",e,{headers:{Authorization:null==t?void 0:t.access_token}}).then(e=>200===e.status?Promise.resolve(e.data):Promise.resolve({})).catch(e=>Promise.resolve({})),u=(e,t)=>(console.log(t,e),(0,r.kA)("/contact/".concat(e),{headers:{Authorization:null==t?void 0:t.access_token}}).then(e=>200===e.status?Promise.resolve(e.data):Promise.resolve({})).catch(e=>Promise.resolve({}))),m=(e,t,n)=>(0,r.e8)("/contact/".concat(e),t,{headers:{Authorization:null==n?void 0:n.access_token}}).then(e=>200===e.status?Promise.resolve(e.data):Promise.resolve({})).catch(e=>Promise.resolve({}));var d=n(7907),h=e=>{let t=(0,d.useRouter)(),n=(0,d.useSearchParams)(),[r,h]=(0,s.useState)({email:"",givenName:"",familyName:""});(0,s.useEffect)(()=>{n.has("id")&&u(n.get("id")||"").then(e=>{h(e)})},[n]);let v=e=>{h({...r,[e.currentTarget.name]:e.currentTarget.value})};return(0,a.jsx)("div",{className:"edit-page-controler page-container",children:(0,a.jsxs)("form",{className:"contact-detail",onSubmit:e=>{e.preventDefault(),r._id?m(r._id,r,null).then(e=>{t.back()}):l(r,null).then(e=>{t.back()})},children:[(0,a.jsxs)("div",{className:"contact-detail__form",children:[(0,a.jsx)(o.II,{label:"First name",autoFocus:!0,name:"givenName",value:r.givenName,onInput:v}),(0,a.jsx)(o.II,{label:"Last name",name:"familyName",value:r.familyName,onInput:v}),(0,a.jsx)(o.II,{label:"Email",name:"email",value:r.email,onInput:v}),(0,a.jsx)(o.II,{label:"Telephone",name:"telephone",value:r.telephone,onInput:v}),(0,a.jsx)(o.II,{label:"Topic of interest",name:"topic",value:r.topic,onInput:v}),(0,a.jsx)(o.gx,{label:"Additional comments",name:"comments",value:r.comments,onInput:v})]}),(0,a.jsxs)("div",{className:"contact-detail__action action-footer position-right",children:[(0,a.jsxs)(o.zx,{theme:o.f8.primary,type:"submit",children:[(0,a.jsx)(c.G,{icon:i._tD}),"Save and go back"]}),(0,a.jsx)(o.zx,{onClick:()=>t.back(),children:(0,a.jsx)(c.G,{icon:i.NBC})})]})]})})};function v(){return(0,a.jsx)("div",{children:(0,a.jsx)(h,{})})}},501:function(e,t,n){"use strict";n.d(t,{Ko:function(){return c},e8:function(){return r},kA:function(){return i}});var a=n(7908);let o=a.Z.create();a.Z.create();let s="http://localhost:4000/api";function i(e,t,n){return o.get((n||s)+e,t)}function c(e,t,n,a){return o.post((a||s)+e,t,n)}function r(e,t,n,a){return o.put((a||s)+e,t,n)}},6627:function(){}},function(e){e.O(0,[676,894,908,971,69,744],function(){return e(e.s=2583)}),_N_E=e.O()}]);